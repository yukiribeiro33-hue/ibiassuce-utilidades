<html lang="pt-BR"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>IBC Utilidades — Loja Virtual</title>
  <meta name="description" content="Utilidades IBC — Loja virtual com utilidades do lar, eletrônicos, vestuário e mais.">
  <style>
    :root{
     --primary: #0e3de9;
    --bg: #1ac33e;
    --card: #0042f9;
    --muted: #f6f6f6;
    --text: #fc0e0e;
    --accent: #22c55e;
    --danger: #ef4444;

    }
    *{box-sizing:border-box}
    body{
         margin: 0;
    font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;
    background: linear-gradient(180deg, #0a0f1f 0%, #0c1226 60%, #92b916 100%);
    color: #131313;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    }
    a{color:inherit;text-decoration:none}
    header{
      position:sticky; top:0; z-index:30;
      background:rgba(10,15,31,.7);
      backdrop-filter: blur(8px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .wrap{max-width:1200px; margin:0 auto; padding:16px}
    .topbar{
      display:flex; align-items:center; gap:12px; justify-content:space-between;
    }
    .brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.3px}
    .brand .logo{
      width:40px; height:40px; border-radius:12px;
      background: radial-gradient(circle at 30% 30%, #22d3ee, #2563eb);
      display:grid; place-items:center; color:white; font-weight:900;
      box-shadow:0 6px 24px rgba(37,99,235,.35);
    }
    .search{
      flex:1; display:flex; gap:8px; max-width:620px; margin:0 12px;
      background:var(--card); border:1px solid rgba(255,255,255,.08);
      border-radius:14px; padding:8px 10px;
    }
    .search input{
      flex:1;
  border:none;
  background:transparent;
  color:#ffffff;   /* ✅ texto branco */
  outline:none;
  font-size:16px;
    }
    .search button{
      border:none; background:var(--primary); color:#FFFFFF; padding:10px 14px;
      border-radius:10px; cursor:pointer; font-weight:600;
    }
    .nav{
      display:flex; gap:8px; flex-wrap:wrap; padding:8px 0 14px;
    }
    .chip{
      padding:8px 12px;
      border-radius:999px;
      border: 1px solid rgb(5 26 83);
      background: rgb(105 142 234);
      cursor:pointer;
      user-select:none;
      font-size:14px;
    }
    .chip.active{background:var(--primary);border-color: #d6d8dd;}
    /* Carousel de banners */
    .carousel{
      position:relative; overflow:hidden; border-radius:18px;
      background:#0a1024; border:1px solid rgba(255,255,255,.06);
      aspect-ratio: 16/6;
    }
    .slides{display:flex; width:100%; height:100%; transition: transform .5s ease-in-out}
    .slide{min-width:100%; height:100%; position:relative}
    .slide img{
      width:100%; height:100%; object-fit:fill; display:block;
    }
    .dots{position:absolute; bottom:10px; left:50%; transform:translateX(-50%); display:flex; gap:6px}
    .dot{width:10px; height:10px; border-radius:999px; background:rgba(255,255,255,.45); border:none; cursor:pointer}
    .dot.active{background:white}
    .grid{
      display:grid; grid-template-columns: repeat(12, 1fr); gap:16px; margin-top:18px;
    }
    .card{
      grid-column: span 3;
      background:var(--card); border:1px solid rgba(255,255,255,.08);
      border-radius:16px; overflow:hidden; display:flex; flex-direction:column;
      transition:.2s;
    }
    .card:hover{transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.25)}
    .thumb{
      width:100%; aspect-ratio:4/3; background:#0b1228; display:grid; place-items:center;
      overflow:hidden;
    }
    .info{padding:12px 14px; display:flex; flex-direction:column; gap:8px}
    .price{font-weight:800}
    .muted{color:var(--muted); font-size:13px}
    .footer{
      margin-top:auto; background:#0a1020; border-top:1px solid rgba(255,255,255,.08);
      padding:20px; text-align:center;
    }
    .footer a{
      display:inline-block; background:#25D366; color:#042; padding:10px 18px;
      border-radius:999px; font-weight:700; text-decoration:none;
    }
    @media (max-width:1024px){ .card{grid-column: span 4} }
    @media (max-width:720px){
      .topbar{flex-wrap:wrap; gap:10px}
      .search{order:3; width:100%; margin:6px 0 0}
      .card{grid-column: span 6}
      .carousel{aspect-ratio: 16/9}
    }
    @media (max-width:520px){ .card{grid-column: span 12} }
    .admin-link{font-size:13px; opacity:.8}

    /* Carrossel de imagens dentro dos produtos */
    .product-carousel {
      position: relative;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    .product-slides {
      display: flex;
      transition: transform 0.5s ease-in-out;
      width: 100%;
      height: 100%;
    }
    .product-slides img {
      min-width: 100%;
      height: 100%;
      object-fit: contain;
      background: #fff;
    }
    .product-carousel button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.5);
      border: none;
      color: white;
      font-size: 24px;
      padding: 6px 10px;
      cursor: pointer;
      border-radius: 50%;
    }
    .product-carousel .prev { left: 10px; }
    .product-carousel .next { right: 10px; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="topbar">
        <div class="brand">
          <img src="https://github.com/yukiribeiro33-hue/ibiassuce-utilidades/blob/main/8a7f518e-9232-4dfc-b759-aef30d644bf9.png?raw=true" width="150" height="100">
        </div>
        <form class="search" id="searchForm" onsubmit="event.preventDefault();">
          <input id="s
    
    rchInput" placeholder="Buscar produtos..." aria-label="Buscar produtos">
          <button type="submit">Buscar</button>
        </form>
      </div>
      <div class="nav" id="categoryChips"><button class="chip active">Tudo</button><button class="chip">Cozinha</button><button class="chip">Limpeza</button><button class="chip">Eletrônicos</button><button class="chip">Vestuário</button><button class="chip">Ferramentas</button></div>
    </div>
  </header>
  <main class="wrap">
    <section class="carousel" aria-label="Carrossel de banners">
      <div class="slides" id="slides" style="transform: translateX(-300%);"><div class="slide"><img src="https://http2.mlstatic.com/D_NQ_NP_2X_986177-MLU73187129209_122023-F.webp" alt="Banner 1"></div><div class="slide"><img src="https://http2.mlstatic.com/D_Q_NP_2X_662017-MLU75935092368_042024-E.webp" alt="Banner 2"></div><div class="slide"><img src="https://http2.mlstatic.com/D_NQ_NP_2X_888696-MLA82483781809_022025-F.webp" alt="Banner 3"></div><div class="slide"><img src="https://http2.mlstatic.com/D_NQ_NP_2X_613041-MLA91965180961_092025-F.webp" alt="Banner 4"></div><div class="slide"><img src="https://http2.mlstatic.com/D_NQ_NP_2X_609095-MLU78139001043_082024-F.webp" alt="Banner 5"></div></div>
      <div class="slides" id="slides" style="transform: translateX(-400%);"><div class="slide"><img src="https://http2.mlstatic.com/D_NQ_NP_2X_986177-MLU73187129209_122023-F.webp" alt="Banner 1"></div><div class="slide"><img src="https://http2.mlstatic.com/D_Q_NP_2X_662017-MLU75935092368_042024-E.webp" alt="Banner 2"></div><div class="slide"><img src="https://http2.mlstatic.com/D_NQ_NP_2X_888696-MLA82483781809_022025-F.webp" alt="Banner 3"></div><div class="slide"><img src="https://http2.mlstatic.com/D_NQ_NP_2X_613041-MLA91965180961_092025-F.webp" alt="Banner 4"></div><div class="slide"><img src="https://http2.mlstatic.com/D_NQ_NP_2X_609095-MLU78139001043_082024-F.webp" alt="Banner 5"></div></div><div class="dots" id="dots"><button class="dot"></button><button class="dot"></button><button class="dot"></button><button class="dot active"></button><button class="dot"></button></div>
    </section>
    <section style="margin-top:18px">
      <h2 style="margin:0 0 8px">Produtos</h2>
      <div class="grid" id="productGrid"><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc1/800/600" alt="Cozinha — Produto 1 - Foto 1"><img src="https://picsum.photos/seed/ibc1b/800/600" alt="Cozinha — Produto 1 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Cozinha — Produto 1</h3>
              <div class="price">R$&nbsp;24,90</div>
            </div>
            <div class="muted">Cozinha</div>
            <p class="muted" style="margin:0">Produto 1 da categoria Cozinha. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Cozinha%20%E2%80%94%20Produto%201%20(R%24%C2%A024%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc2/800/600" alt="Limpeza — Produto 2 - Foto 1"><img src="https://picsum.photos/seed/ibc2b/800/600" alt="Limpeza — Produto 2 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Limpeza — Produto 2</h3>
              <div class="price">R$&nbsp;29,90</div>
            </div>
            <div class="muted">Limpeza</div>
            <p class="muted" style="margin:0">Produto 2 da categoria Limpeza. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Limpeza%20%E2%80%94%20Produto%202%20(R%24%C2%A029%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc3/800/600" alt="Eletrônicos — Produto 3 - Foto 1"><img src="https://picsum.photos/seed/ibc3b/800/600" alt="Eletrônicos — Produto 3 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Eletrônicos — Produto 3</h3>
              <div class="price">R$&nbsp;34,90</div>
            </div>
            <div class="muted">Eletrônicos</div>
            <p class="muted" style="margin:0">Produto 3 da categoria Eletrônicos. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Eletr%C3%B4nicos%20%E2%80%94%20Produto%203%20(R%24%C2%A034%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc4/800/600" alt="Vestuário — Produto 4 - Foto 1"><img src="https://picsum.photos/seed/ibc4b/800/600" alt="Vestuário — Produto 4 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Vestuário — Produto 4</h3>
              <div class="price">R$&nbsp;39,90</div>
            </div>
            <div class="muted">Vestuário</div>
            <p class="muted" style="margin:0">Produto 4 da categoria Vestuário. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Vestu%C3%A1rio%20%E2%80%94%20Produto%204%20(R%24%C2%A039%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc5/800/600" alt="Ferramentas — Produto 5 - Foto 1"><img src="https://picsum.photos/seed/ibc5b/800/600" alt="Ferramentas — Produto 5 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Ferramentas — Produto 5</h3>
              <div class="price">R$&nbsp;44,90</div>
            </div>
            <div class="muted">Ferramentas</div>
            <p class="muted" style="margin:0">Produto 5 da categoria Ferramentas. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Ferramentas%20%E2%80%94%20Produto%205%20(R%24%C2%A044%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc6/800/600" alt="Cozinha — Produto 6 - Foto 1"><img src="https://picsum.photos/seed/ibc6b/800/600" alt="Cozinha — Produto 6 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Cozinha — Produto 6</h3>
              <div class="price">R$&nbsp;49,90</div>
            </div>
            <div class="muted">Cozinha</div>
            <p class="muted" style="margin:0">Produto 6 da categoria Cozinha. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Cozinha%20%E2%80%94%20Produto%206%20(R%24%C2%A049%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc7/800/600" alt="Limpeza — Produto 7 - Foto 1"><img src="https://picsum.photos/seed/ibc7b/800/600" alt="Limpeza — Produto 7 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Limpeza — Produto 7</h3>
              <div class="price">R$&nbsp;54,90</div>
            </div>
            <div class="muted">Limpeza</div>
            <p class="muted" style="margin:0">Produto 7 da categoria Limpeza. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Limpeza%20%E2%80%94%20Produto%207%20(R%24%C2%A054%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc8/800/600" alt="Eletrônicos — Produto 8 - Foto 1"><img src="https://picsum.photos/seed/ibc8b/800/600" alt="Eletrônicos — Produto 8 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Eletrônicos — Produto 8</h3>
              <div class="price">R$&nbsp;59,90</div>
            </div>
            <div class="muted">Eletrônicos</div>
            <p class="muted" style="margin:0">Produto 8 da categoria Eletrônicos. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Eletr%C3%B4nicos%20%E2%80%94%20Produto%208%20(R%24%C2%A059%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc9/800/600" alt="Vestuário — Produto 9 - Foto 1"><img src="https://picsum.photos/seed/ibc9b/800/600" alt="Vestuário — Produto 9 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Vestuário — Produto 9</h3>
              <div class="price">R$&nbsp;64,90</div>
            </div>
            <div class="muted">Vestuário</div>
            <p class="muted" style="margin:0">Produto 9 da categoria Vestuário. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Vestu%C3%A1rio%20%E2%80%94%20Produto%209%20(R%24%C2%A064%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article><article class="card">
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides"><img src="https://picsum.photos/seed/ibc10/800/600" alt="Ferramentas — Produto 10 - Foto 1"><img src="https://picsum.photos/seed/ibc10b/800/600" alt="Ferramentas — Produto 10 - Foto 2"></div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">Ferramentas — Produto 10</h3>
              <div class="price">R$&nbsp;19,90</div>
            </div>
            <div class="muted">Ferramentas</div>
            <p class="muted" style="margin:0">Produto 10 da categoria Ferramentas. Qualidade e preço justo.</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start" href="https://wa.me/5577988448818?text=Ol%C3%A1%2C%20tenho%20interesse%20no%20produto%3A%20Ferramentas%20%E2%80%94%20Produto%2010%20(R%24%C2%A019%2C90)." target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        </article></div>
    </section>
  </main>
  <footer class="footer" style="
    height: 60.8px;
">
    
   <div class="wrap" style="display:flex;align-items:center;justify-content:space-between;gap:12px;padding:16px;height: 52px;">
      <div class="muted">© <span id="year">2025</span> IBC Utilidades — Loja virtual</div>
      <a class="whats" target="_blank" rel="noopener" href="https://wa.me/5577988448818?text=Olá%20Utilidades%20IBC,%20tenho%20interesse%20em%20um%20produto." style="height: 40px;">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20.52 3.48A11.84 11.84 0 0 0 12.02 0C5.5 0 .2 5.3.2 11.82c0 2.09.55 4.14 1.6 5.95L0 24l6.36-1.67a11.77 11.77 0 0 0 5.66 1.45h.01c6.52 0 11.82-5.3 11.82-11.82 0-3.16-1.23-6.12-3.33-8.23zM12.03 21.4h-.01a9.6 9.6 0 0 1-4.9-1.34l-.35-.2-3.77 1 1-3.68-.23-.38a9.58 9.58 0 0 1-1.46-5.1c0-5.3 4.31-9.6 9.61-9.6 2.57 0 4.99 1 6.81 2.82a9.55 9.55 0 0 1 2.8 6.78c0 5.3-4.3 9.6-9.6 9.6zm5.52-7.2c-.3-.15-1.76-.86-2.03-.95-.27-.1-.47-.14-.66.15-.19.28-.76.95-.94 1.14-.17.18-.35.21-.65.07-.3-.14-1.28-.47-2.44-1.5-.9-.8-1.5-1.8-1.67-2.1-.17-.29-.02-.46.13-.6.13-.14.3-.35.45-.53.15-.19.2-.32.31-.54.1-.22.06-.4-.02-.55-.08-.15-.66-1.6-.91-2.2-.24-.58-.5-.5-.66-.5h-.56c-.19 0-.49.07-.74.34-.25.28-.98.96-.98 2.34s1 2.7 1.13 2.88c.14.18 1.96 2.98 4.75 4.18.66.28 1.17.45 1.57.58.66.21 1.26.18 1.73.11.53-.08 1.76-.72 2.01-1.42.25-.7.25-1.3.17-1.42-.08-.12-.28-.2-.58-.35z"></path></svg>
        Fale no WhatsApp
      </a>
    </div></footer>

  <script>
    /* ========= Data Layer ========= */
    const DB_KEY = 'utilidades_ibc_products_v1';
    const BANNER_KEY = 'utilidades_ibc_banners_v1';
    const CATEGORIES_KEY = 'utilidades_ibc_categories_v1';

    function seedIfEmpty(){
      if(!localStorage.getItem(DB_KEY)){
        const cats = ["Cozinha","Limpeza","Eletrônicos","Vestuário","Ferramentas"];
        const products = [];
        for(let i=1;i<=10;i++){
          const c = cats[(i-1)%cats.length];
          products.push({
            id: crypto.randomUUID(),
            name: `${c} — Produto ${i}`,
            description: `Produto ${i} da categoria ${c}. Qualidade e preço justo.`,
            price: (19.9 + (i%10)*5).toFixed(2),
            category: c,
            images: [
              `https://picsum.photos/seed/ibc${i}/800/600`,
              `https://picsum.photos/seed/ibc${i}b/800/600`
            ],
            featured: i <= 5
          });
        }
        localStorage.setItem(DB_KEY, JSON.stringify(products));
        localStorage.setItem(CATEGORIES_KEY, JSON.stringify(cats));
        localStorage.setItem(BANNER_KEY, JSON.stringify(products.filter(p=>p.featured).slice(0,5).map(p=>p.images[0])));
      }
    }
    function getProducts(){ return JSON.parse(localStorage.getItem(DB_KEY) || '[]'); }
    function getCategories(){ 
      const stored = JSON.parse(localStorage.getItem(CATEGORIES_KEY) || '[]');
      if (stored.length) return stored;
      const cats = [...new Set(getProducts().map(p=>p.category))];
      localStorage.setItem(CATEGORIES_KEY, JSON.stringify(cats));
      return cats;
    }
    function getBanners(){ return JSON.parse(localStorage.getItem(BANNER_KEY) || '[]'); }

    /* ========= UI ========= */
    const productGrid = document.getElementById('productGrid');
    const categoryChips = document.getElementById('categoryChips');
    const searchInput = document.getElementById('searchInput');
    const searchForm = document.getElementById('searchForm');
    const slides = document.getElementById('slides');
    const dots = document.getElementById('dots');

    let activeCategory = 'Tudo';
    let query = '';
    let slideIndex = 0;
    let slideTimer = null;

    function formatBRL(n){ return n.toLocaleString('pt-BR',{style:'currency', currency:'BRL'}); }

    function renderCategories(){
      categoryChips.innerHTML = '';
      const cats = ['Tudo', ...getCategories()];
      cats.forEach(c=>{
        const b = document.createElement('button');
        b.className = 'chip'+(c===activeCategory?' active':'');
        b.textContent = c;
        b.onclick = ()=>{
          activeCategory = c;
          if(c === 'Tudo'){        // reset filtros
            query = '';
            searchInput.value = '';
          }
          renderProducts();
          renderCategories();
        };
        categoryChips.appendChild(b);
      });
    }

    function renderProducts(){
      const data = getProducts().filter(p=>{
        const okCat = activeCategory==='Tudo' || p.category===activeCategory;
        const q = query.trim().toLowerCase();
        const okQ = !q || p.name.toLowerCase().includes(q) || p.description.toLowerCase().includes(q);
        return okCat && okQ;
      });
      productGrid.innerHTML = '';

      if(data.length === 0){
        productGrid.innerHTML = `<p style="grid-column:1/-1; text-align:center; opacity:.7">Nenhum produto encontrado.</p>`;
        return;
      }

      data.forEach(p=>{
        const el = document.createElement('article');
        el.className = 'card';

        // monta slides do produto
        let slidesHTML = '';
        (p.images || []).forEach((src,i)=>{
          slidesHTML += `<img src="${src}" alt="${p.name} - Foto ${i+1}">`;
        });

        el.innerHTML = `
          <div class="thumb">
            <div class="product-carousel">
              <div class="product-slides">${slidesHTML}</div>
              <button class="prev">‹</button>
              <button class="next">›</button>
            </div>
          </div>
          <div class="info">
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:start">
              <h3 style="margin:0; font-size:16px">${p.name}</h3>
              <div class="price">${formatBRL(Number(p.price))}</div>
            </div>
            <div class="muted">${p.category}</div>
            <p class="muted" style="margin:0">${p.description}</p>
            <a class="whats" style="margin-top:8px; align-self:flex-start"
               href="https://wa.me/5577988448818?text=${encodeURIComponent(`Olá, tenho interesse no produto: ${p.name} (${formatBRL(Number(p.price))}).`) }"
               target="_blank" rel="noopener">Comprar no WhatsApp</a>
          </div>
        `;
        productGrid.appendChild(el);

        // ativar carrossel
        const carousel = el.querySelector('.product-carousel');
        const slidesEl = carousel.querySelector('.product-slides');
        const imgs = slidesEl.querySelectorAll('img');
        let index = 0;
        const update = ()=> slidesEl.style.transform = `translateX(${-index*100}%)`;
        carousel.querySelector('.next').onclick = ()=>{ index=(index+1)%imgs.length; update(); };
        carousel.querySelector('.prev').onclick = ()=>{ index=(index-1+imgs.length)%imgs.length; update(); };
      });
    }

    function renderCarousel(){
      const banners = getBanners().slice(0,5);
      slides.innerHTML = '';
      dots.innerHTML = '';
      if(banners.length===0){
        const ph = document.createElement('div');
        ph.className='slide';
        ph.innerHTML = `<img src="https://picsum.photos/seed/ibcbanner/1200/400" alt="Promoções Utilidades IBC">`;
        slides.appendChild(ph);
        return;
      }
      banners.forEach((src, i)=>{
        const s = document.createElement('div');
        s.className='slide';
        s.innerHTML = `<img src="${src}" alt="Banner ${i+1}">`;
        slides.appendChild(s);
        const d = document.createElement('button');
        d.className='dot'+(i===0?' active':'');
        d.onclick = ()=> goToSlide(i);
        dots.appendChild(d);
      });
      goToSlide(0);
      if(slideTimer) clearInterval(slideTimer);
      slideTimer = setInterval(()=>goToSlide((slideIndex+1)%banners.length), 4000);
    }
    function goToSlide(i){
      slideIndex = i;
      slides.style.transform = `translateX(-${i*100}%)`;
      [...dots.children].forEach((d,idx)=>d.classList.toggle('active', idx===i));
    }

    searchForm.addEventListener('submit', ()=>{ query = searchInput.value; renderProducts(); });

    /* Boot */
    seedIfEmpty();
    renderCategories();
    renderProducts();
    renderCarousel();
  </script>

</body></html>
